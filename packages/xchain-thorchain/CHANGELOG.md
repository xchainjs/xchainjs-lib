# Changelog

## 3.0.2

### Patch Changes

- bc29744: Update tcy denom

## 3.0.1

### Patch Changes

- ccd2b5d: update to support tcy

## 3.0.0

### Major Changes

- 621a7a0: Major optimization

### Patch Changes

- Updated dependencies [621a7a0]
  - @xchainjs/xchain-cosmos-sdk@2.0.0
  - @xchainjs/xchain-client@2.0.0
  - @xchainjs/xchain-crypto@1.0.0
  - @xchainjs/xchain-util@2.0.0

## 2.0.15

### Patch Changes

- 0e432f2: Update MsgCompiled for new TC types

## 2.0.14

### Patch Changes

- f757e0b: Add getAccountDetails() async to keystore client

## 2.0.13

### Patch Changes

- Updated dependencies [590c8eb]
- Updated dependencies [590c8eb]
  - @xchainjs/xchain-util@1.0.8
  - @xchainjs/xchain-client@1.0.10
  - @xchainjs/xchain-cosmos-sdk@1.0.12

## 2.0.12

### Patch Changes

- f45246f: added secured asset types
- Updated dependencies [f45246f]
  - @xchainjs/xchain-cosmos-sdk@1.0.11
  - @xchainjs/xchain-util@1.0.7
  - @xchainjs/xchain-client@1.0.9

## 2.0.11

### Patch Changes

- f258497: secp256k1 dependency updated to 5.0.1
- Updated dependencies [f258497]
  - @xchainjs/xchain-cosmos-sdk@1.0.10
  - @xchainjs/xchain-client@1.0.8

## 2.0.10

### Patch Changes

- 0cf33cf: Rollup configuration. Interop option set to 'auto' for CommoJS output
- Updated dependencies [0cf33cf]
  - @xchainjs/xchain-cosmos-sdk@1.0.9
  - @xchainjs/xchain-client@1.0.7
  - @xchainjs/xchain-util@1.0.6

## 2.0.9

### Patch Changes

- Updated dependencies [54fbdf2]
  - @xchainjs/xchain-cosmos-sdk@1.0.8

## 2.0.8

### Patch Changes

- 33bfa40: Rollup update to latest version.
- Updated dependencies [33bfa40]
  - @xchainjs/xchain-cosmos-sdk@1.0.7
  - @xchainjs/xchain-client@1.0.6
  - @xchainjs/xchain-util@1.0.5

## 2.0.7

### Patch Changes

- Updated dependencies [73b68ed]
  - @xchainjs/xchain-util@1.0.4
  - @xchainjs/xchain-client@1.0.5
  - @xchainjs/xchain-cosmos-sdk@1.0.6

## 2.0.6

### Patch Changes

- b9c2491: Cosmosjs dependencies updated to 0.32.4
- Updated dependencies [f90c0d8]
- Updated dependencies [b9c2491]
  - @xchainjs/xchain-util@1.0.3
  - @xchainjs/xchain-cosmos-sdk@1.0.5
  - @xchainjs/xchain-client@1.0.4

## 2.0.5

### Patch Changes

- Updated dependencies [b4327b9]
  - @xchainjs/xchain-cosmos-sdk@1.0.4

## 2.0.4

### Patch Changes

- Updated dependencies [dec3ba3]
  - @xchainjs/xchain-util@1.0.2
  - @xchainjs/xchain-client@1.0.3
  - @xchainjs/xchain-cosmos-sdk@1.0.3

## 2.0.3

### Patch Changes

- d78a201: RPC endpoint for mainnet network update

## 2.0.2

### Patch Changes

- Updated dependencies [b07b69a]
  - @xchainjs/xchain-util@1.0.1
  - @xchainjs/xchain-client@1.0.2
  - @xchainjs/xchain-cosmos-sdk@1.0.2

## 2.0.1

### Patch Changes

- 837e3e7: Axios version update to v1.7.4
- Updated dependencies [837e3e7]
- Updated dependencies [323cbea]
  - @xchainjs/xchain-client@1.0.1
  - @xchainjs/xchain-cosmos-sdk@1.0.1

## 2.0.0

### Major Changes

- c74614f: Asset type refactor

### Patch Changes

- bece78b: Bug fix in deposit function. XChainJS asset parsed to Node nomenclature.
- Updated dependencies [c74614f]
  - @xchainjs/xchain-util@1.0.0
  - @xchainjs/xchain-client@1.0.0
  - @xchainjs/xchain-cosmos-sdk@1.0.0

## 1.1.1

### Patch Changes

- Updated dependencies [6fe2b21]
  - @xchainjs/xchain-util@0.13.7
  - @xchainjs/xchain-client@0.16.8
  - @xchainjs/xchain-cosmos-sdk@0.2.13

## 1.1.0

### Minor Changes

- f29a7ad: Thorchain Ledger support

### Patch Changes

- Updated dependencies [f29a7ad]
- Updated dependencies [f29a7ad]
  - @xchainjs/xchain-cosmos-sdk@0.2.12

## 1.0.11

### Patch Changes

- Updated dependencies [1a8f57d]
  - @xchainjs/xchain-cosmos-sdk@0.2.11

## 1.0.10

### Patch Changes

- Updated dependencies [8d000a2]
  - @xchainjs/xchain-client@0.16.7
  - @xchainjs/xchain-cosmos-sdk@0.2.10

## 1.0.9

### Patch Changes

- 15181f4: Release fix
- Updated dependencies [15181f4]
  - @xchainjs/xchain-client@0.16.6
  - @xchainjs/xchain-cosmos-sdk@0.2.9
  - @xchainjs/xchain-util@0.13.6

## 1.0.8

### Patch Changes

- 582d682: Internal dependencies updated to use workspace nomenclature
- 54ba9c2: Multiple URL clients support
- Updated dependencies [582d682]
- Updated dependencies [54ba9c2]
  - @xchainjs/xchain-cosmos-sdk@0.2.8
  - @xchainjs/xchain-client@0.16.5
  - @xchainjs/xchain-util@0.13.5

## 1.0.7

### Patch Changes

- b379aeb: Keystore logic move from cosmos-sdk client to chain clients
- Updated dependencies [b379aeb]
  - @xchainjs/xchain-cosmos-sdk@0.2.7

## 1.0.6

### Patch Changes

- b93add9: Dependecies as external at building process
- Updated dependencies [b93add9]
  - @xchainjs/xchain-cosmos-sdk@0.2.6
  - @xchainjs/xchain-client@0.16.4
  - @xchainjs/xchain-util@0.13.4

## 1.0.5

### Patch Changes

- Updated dependencies [448c29f]
  - @xchainjs/xchain-client@0.16.3
  - @xchainjs/xchain-cosmos-sdk@0.2.5

## 1.0.4

### Patch Changes

- Updated dependencies [c71952d]
  - @xchainjs/xchain-util@0.13.3
  - @xchainjs/xchain-client@0.16.2
  - @xchainjs/xchain-cosmos-sdk@0.2.4

## 1.0.3

### Patch Changes

- ef2d8e2: getAssetDecimals function
- Updated dependencies [ef2d8e2]
  - @xchainjs/xchain-cosmos-sdk@0.2.3

## 1.0.2

### Patch Changes

- e1ec010: getDenom, getChainId and getPrefix util functions
- Updated dependencies [ae35c36]
  - @xchainjs/xchain-cosmos-sdk@0.2.2

## 1.0.1

### Patch Changes

- bfa655b: getPrefix protected function
- Updated dependencies [bfa655b]
- Updated dependencies [bfa655b]
  - @xchainjs/xchain-cosmos-sdk@0.2.1

## 1.0.0

### Major Changes

- 754fe1a: Breaking changes
  - `getPrivateKey` is now async and response is Uint8Array type
  - `getPubKey` is now async and response is Uint8Array type
  - `getDepositTransaction` is deprecated in favour of `getTransactionData`
  - `fetchTransaction` removed
  - `setClientUrl` removed
  - `getClientUrl` removed
  - `setExplorerUrls` removed
  - `getCosmosClient` removed
  - `setNetwork` removed
  - `setChainId` removed
  - `getChainId` removed
- 754fe1a: Client compatible with @xchainjs/xchain-cosmos-sdk package

### Patch Changes

- Updated dependencies [754fe1a]
- Updated dependencies [754fe1a]
- Updated dependencies [754fe1a]
- Updated dependencies [6e86d90]
  - @xchainjs/xchain-cosmos-sdk@0.2.0

## 0.28.17

### Patch Changes

- Updated dependencies [7f7f543]
  - @xchainjs/xchain-crypto@0.3.1
  - @xchainjs/xchain-client@0.16.1
  - @xchainjs/xchain-cosmos@0.21.10

## v0.28.16 (2023-12-12)

### Update

- Client dependency increased to 0.16.0
- Cosmos dependency increased to 0.21.9

## v0.28.15 (2023-12-11)

### Update

- Client and Cosmos client dependency update

## v0.28.14 (2023-12-07)

### Update

- Change thorchain getFees() to fetch to /thorchain/network

## v0.28.13 (2023-11-16)

### Update

- Runescan explorer

## v0.28.12 (2023-11-16)

### Update

- Created method getAddressAsync

## v0.28.11 (2023-11-11)

### Update

- Network loop removed from fetchTransaction

## v0.28.10 (2023-11-07)

### Fix

- Prepare tx with no initilized addresses

## v0.28.8 (2023-10-26)

### Update

- Refactor transfer method to use prepareTx

## v0.28.7 (2023-09-11)

### Update

- Bumped dependencies for util

## v0.28.6 (2023-08-11)

### Update

- update get transaction bug in thorchain

## v0.28.5 (2023-07-18)

### Update

- fixed amount returned from getTransactionData()
- Bump comsos dep

## v0.28.4 (2023-07-16)

### Update

- Refactored getTransactionData to use new cosmos memo type and bumped cosmos dep

## v0.28.3 (2023-06-30)

### Update

- Updating const defaul_gas_limit_value from 4000000 to 6000000

## v0.28.2 (2023-06-21)

### Update

- Add fallback url in const for getTransaction

## v0.28.1 (2023-05-18)

### Add

- New client function getAssetInfo() returns chain, decimals and asset & rename DECIMAL - RUNE_DECIMAL

## v0.28.0 (2023-05-02)

### Update

- update rollup config and axios to the latest
- udpate `@types/big.js`

## v.0.27.11 (2023-04-04)

### Add

- add `broadcastTx()` to client
- bump dependencies

## v.0.27.10 (2023-03-01)

### Fix

- Fix method `getTransactions`

## v.0.27.9 (2023-02-23)

### FIX

- `getTransactionData` mapping bug.
- Update dependencies

## v.0.27.8 (2023-01-19)

### Update

- Type safety `THORChain`

## v.0.27.7 (2022-12-27)

### Add

- Add `AssetRune67C`, `AssetRuneB1A`, `AssetRuneERC20`, `AssetRuneERC20Testnet`, `THORChain` and `AssetRuneNative` definitions

### Update

- Bump `xchain-client@13.5.0`

### Update

- Change `AssetETH`, `AssetBNB` and `GAIAChain` imports to its own `xchain-*` package

## v.0.27.6 (2022-12-13)

### Update

- removed `customRequestHeaders`

## v.0.27.5 (2022-12-12)

### Update

- Add optional `sequence` to `transfer` and `deposit` to override `sequence`
- Add helpers `getAccount` and `getSequence` to `utils`

## v.0.27.4 (2022-11-??)

## v.0.27.3 (2022-11-24)

### Update

- Added `customRequestHeaders` to `BroadcastTxParams`
- Bump `xchain-client`

## v.0.27.2 (2022-11-08)

### Update

- changed chain-id-stagenet to `thorchain-stagenet-v2`

## v.0.27.1 (2022-10-13)

- added default `chainIds` in constructor
- added default `explorerUrls` in constructor
- Set Default network to `Network.Mainnet`

### Update

- Bumped `xchain-utils` & `xchain-client`

## v0.27.0 (2022-10-07)

### Breaking Changes

- Removed `getDefaultClientUrl`
- Removed `getChainIds`
- Update `ThorchainClientParams` to make clientUrl required (not optional)

## v.0.26.2 (2022-10-06)

### Update

- Bumped `xchain-utils` & `xchain-client`

## v.0.26.1 (2022-09-29)

### Update

- bumped deps on xchain-utils & xchain-client

## v.0.26.0 (2022-07-20)

### Change

- updated packages xchain-client & xchain-util

## v0.25.3 (2022-07-01)

### Update

- Latest "xchain-cosmos@0.19.0"

## v0.25.2 (2022-06-22)

### Update

- Latest `@cosmos-client/core@0.45.10`
- Latest "xchain-cosmos@0.18.0"

### Fix

- Fix `setNetwork` to create new instance of SDK client

## v0.25.1 (2022-06-17)

### Fix

- Remove estimation of gas in `transfer` and `deposit` (introduced by #564) in favour of using `DEFAULT_GAS_LIMIT_VALUE` or `DEPOSIT_GAS_LIMIT_VALUE` (both can be overridden by users in `transfer` or `deposit`)
- Increase `DEPOSIT_GAS_LIMIT_VALUE` to `600000000` (before `500000000`)

## v0.25.0 (2022-06-16)

### Fix

- Before sending a transaction, gas limits are estimated
- Helper `getEstimatedGas`

### Breaking changes

- Client's `transferOffline` requires `fromAccountNumber` and `fromSequence`
- Rename parameters in `transferOffline` to keep names in camel case (not snake case)
- Rename `DEFAULT_GAS_VALUE` to `DEFAULT_GAS_LIMIT_VALUE`
- Rename `DEPOSIT_GAS_VALUE` to `DEPOSIT_GAS_LIMIT_VALUE`

## v0.24.1 (2022-04-23)

### Fix

- Increase `DEFAULT_GAS_VALUE` to `4000000` (before `3000000`)

## v0.24.0 (2022-03-23)

### Update

- upgraded to "@cosmos-client/core": "0.45.1"
- client now extend BaseXChainClient

### Breaking Changes

- `buildDepositTx` now returns `proto.cosmos.tx.v1beta1.TxBody` from `@cosmos-client/core`

## v0.23.0 (2022-03-08)

### Add

- Helpers `getChainId` + `getChainIds`

### Breaking change

- `chainIds: ChainIds` is required to initialize `Client`

### Fix

- Request fees from THORChain and use `defaultFees` in case of server errors only
- Fix `defaultFees` to be 0.02 RUNE

## v0.22.2 (2022-02-17)

### Fix

- Request fees from THORChain and use `defaultFees` in case of server errors only
- Fix `defaultFees` to be 0.02 RUNE

## v0.22.1 (2022-02-16)

### Fix

- Increase limit for `DEFAULT_GAS_VALUE` from 2000000 to 3000000 to accommodate recent increases in gas used that go above the old limit

## v0.22.0 (2022-02-06)

### Add

- Option to pass `ChainIds` into constructor
- getter / setter for `chainId` in `Client`

### Breaking change

- `buildDepositTx` needs `chainId` to be passed - all params are set as object
- Remove `enum ChainId` + `getChainId` + `isChainId` from `utils`

## v0.21.2 (2022-02-04)

### Fix

- Use latest axios@0.25.0
- xchain-client@0.11.1
- @xchainjs/xchain-util@0.5.1
- @xchainjs/xchain-cosmos@0.16.1

## v.0.21.1 (2022-02-04)

### Fix

- Fix chain id for `testnet` #477

### Add

- Helper `isChainId`
- `enum ChainId`

## v.0.21.0 (2022-02-02)

### Breaking change

- Remove `getDenomWithChain`
- Rename `getAsset` -> `assetFromDenom` (incl. fix to get synth asset properly)

### Update

- xchain-util@0.5.0
- xchain-cosmos@0.16.0

### Add

- `isAssetNativeRune` helper
- Add `TxOfflineParams` type

### Fix

- Fix synth notation in `transfer|transferOffline|deposit` #473

## v0.20.1 (2022-01-11)

### Fix

- Get chain ID from THORNode before posting to deposit handler.

## v.0.20.0 (2021-12-29)

### Breaking change

- Add stagenet environment handling for `Network` and `BaseXChainClient` to client

## v.0.19.5 (2021-11-22)

### Add

- Provide `transferOffline` method

## v.0.19.4 (2021-11-22)

### Add

- Provide `getPubKey` method to access public key

### Change

- Make `getPrivKey` method `public` to access private key

## v.0.19.3 (2021-10-31)

### Update

- Use latest `xchain-cosmos@0.13.8` to use `sync` mode for broadcasting txs

## v.0.19.2 (2021-09-27)

### Fix

- Increase `gas` to `500,000,000` (five hundred million)

## v.0.19.1 (2021-09-26)

### Fix

- Increase `gas` to `30,000,000` (thirty million)

## v.0.19.0 (2021-09-10)

### Breaking change

- Extract `buildDepositTx` from `Client` into `utils`

### Add

- Add `getBalance` to `utils`

## v.0.18.0 (2021-09-08)

### Add

- Make `buildDepositTx` public and overrides its fee
- Add `DEPOSIT_GAS_VALUE`

### Breaking change

- Remove `AssetRune` in favour of using `AssetRuneNative` of `xchain-util` only
- Extract `getChainId` into `util` module

## v.0.17.7 (2021-07-20)

### Fix

- cosmos 0.42.x has too many breaking changes that wren't caught in the last version, downgrade "cosmos-client": "0.39.2"

## v.0.17.6 (2021-07-19)

### Update

- bumping peer dependency "cosmos-client": "0.39.2" -> "cosmos-client": "^0.42.7"

## v.0.17.5 (2021-07-18)

### Update

- Updated rollupjs to include axios to enlable usage on node

## v.0.17.4 (2021-07-14)

#### Fix

- Bump `fee.gas to `25000000` (twenty five million) to try to avoid failing withdraw txs

## v.0.17.3 (2021-07-07)

### Update

- Use latest `xchain-client@0.10.1` + `xchain-util@0.3.0`

## v.0.17.2 (2021-07-05)

### Fix

- refactored client methods to use regular method syntax (not fat arrow) in order for bcall to super.xxx() to work properly

## v.0.17.1 (2021-06-29)

#### Fix

- Stick with `cosmos-client@0.39.2`

#### Add

- Add examples to README

## v.0.17.0 (2021-06-21)

#### Fix

- Fix `to` / `from` addresses by parsing tx data from event logs

#### Breaking change

- Remove deprecated `getTxDataFromResponse` helper

## v.0.16.1 (2021-06-14)

#### Fix

- Double `fee.gas to `20000000` (twenty million) to avoid failing withdraw transactions

## v.0.16.0 (2021-06-08)

#### Breaking change

- Use `viewblock` as default explorer
- [types] Refactored structure of explorer urls (via `type ExplorerUrls`)
- [types] Refactored `ExplorerUrl`
- [client] Constructor accepts `ExplorerUrls`
- [client] Removed `getExplorerNodeUrl` (use `getExplorerAddressUrl` instead)
- [client] Extract `getDefaultClientUrl` into `utils`
- [utils] Renamed `getDefaultExplorerUrlByNetwork` -> `getDefaultExplorerUrl`
- [utils] Removed `getDefaultExplorerAddressUrl`, `getDefaultExplorerNodeUrl`, `getDefaultExplorerTxUrl`
- [utils] Added `getExplorerTxUrl`, `getExplorerAddressUrl`, `getExplorerUrl` helpers

## v.0.15.2 (2021-06-01)

#### Update

- updated peer deps

## v.0.15.0 (2021-05-17)

#### Breaking change

- added support for HD wallets

## v.0.14.0 (2021-05-05)

#### Breaking change

- Latest @xchainjs/xchain-client@0.8.0
- Latest @xchainjs/xchain-util@0.2.7

## v.0.13.7 (2021-04-21)

#### Update

- Export `MSG_SEND` `MSG_DEPOSIT` `MAX_COUNT`
- Added `getCosmosClient()`
- Extend `getTransactions` parameters with an optional `filterFn`

## v.0.13.6 (2021-04-16)

#### Update

- Set `fee.gas` to `10000000` (ten million) in `deposit` due to failing withdraw transactions

## v.0.13.5 (2021-04-16)

#### Update

- Set `fee.gas` to `1000000` (one million) in `deposit`

## v.0.13.4 (2021-04-16)

#### Update

- Set `fee.gas` to `auto` in `deposit`
- Try sending `deposit` tx up to 3x
- Updates `DEFAULT_GAS_VALUE` to `2000000`

## v.0.13.3 (2021-04-12)

#### Breaking changes

- Change `/addresses` to `/address` for explorer url.

#### Update

- Add util helpers for explorer urls.

## v.0.13.2 (2021-04-01)

#### Update

- Updates `getDefaultClientUrl` to use new mainnet endpoints

## v.0.13.1 (2021-03-18)

#### Fix

- Changed `getDefaultExplorerUrl` to return valid urls

## v.0.13.0 (2021-03-02)

#### Breaking change

- replace `find`, `findIndex`
- Update @xchainjs/xchain-client package to 0.7.0
- Update @xchainjs/xchain-cosmos package to 0.11.0

## v.0.12.0 (2021-02-24)

#### Breaking change

- Update @xchainjs/xchain-client package to 0.6.0
- Update @xchainjs/xchain-cosmos package to 0.10.0
- Update `getBalance`

## v.0.11.1 (2021-02-24)

#### Breaking change

- Update @xchainjs/xchain-cosmos package to 0.9.0

#### Fix

- Fix `getTransactions` - sort transactions from latest
- Fix `DECIMAL`

## v.0.11.0 (2021-02-19)

#### Breaking change

- Update @xchainjs/xchain-client package to 0.5.0

#### Update

- Add `Service Providers` section in README.md

#### Fix

- Fix `peerDependencies`

## v.0.10.1 (2021-02-05)

#### Update

- Update `getTransactions` to support incoming transactions

#### Breaking change

- Update @xchainjs/xchain-client package to 0.4.0
- Update @xchainjs/xchain-crypto package to 0.2.3

## v.0.10.0 (2021-02-03)

#### Breaking changes

- Change `getTransactions` to use tendermint rpc. (transaction query from the latest ones.)

## v.0.9.3 (2021-02-02)

#### Update

- Add `getExplorerNodeUrl`

## v.0.9.2 (2021-01-30)

- Clear lib folder on build

## v.0.9.1 (2021-01-26)

#### Fix

- Fix `deposit`. Use `/thorchain/deposit` to build a deposit transaction.

## v.0.9.0 (2021-01-15)

#### Breaking change

- Move `getPrefix` to util

## v.0.8.0 (2021-01-13)

#### Breaking change

- change MsgNativeTx.fromJson

## v.0.7.1 (2021-01-06)

#### Fix

- Fix getTransactions pagination issue #168

#### Update

- Update comments for documentation

## v.0.7.0 (2020-12-28)

#### Breaking change

- Extract `getDefaultFees` from `Client` to `utils` #157

## v.0.6.2 (2020-12-23)

#### Update

- Use latest xchain-client@0.2.1

#### Fix

- Fix invalid assets comparison #151

#### Breaking change

- Remove `validateAddress` from `ThorchainClient` #149

## v.0.6.1 (2020-12-18)

#### Update

- Add `setClientUrl`
- Add `getDefaultClientUrl`
- Add `getClientUrlByNetwork`

#### Fix

- Fix client url for multichain testnet (`https://testnet.thornode.thorchain.info`)

## v.0.6.0 (2020-12-16)

#### Update

- Set the latest multi-chain node
- Update `getTransactionData`, `getTransactions`
- Update `transfer` (for `MsgSend`)
- Update `deposit` (for `MsgNativeTx`)

## v.0.5.0 (2020-12-11)

#### Update

- Update dependencies
- Add `getDefaultFees`

## v.0.4.2 (2020-11-23)

#### Fix

- Fix import of `cosmos/codec`

#### Update

- Use latest `@xchainjs/cosmos@0.4.2`

## v.0.4.1 (2020-11-23)

#### Update

- Update to latest `@xchainjs/*` packages and other dependencies

## v.0.4.0 (2020-11-20)

#### Breaking change

- Update @xchainjs/xchain-crypto package to 0.2.0, deprecating old keystores
